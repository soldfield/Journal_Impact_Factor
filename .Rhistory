install.packages("swirl")
download.file(https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv)
download.file('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv')
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv")
download.file()
help(download.file)
files <- list.files(directory, full.names=TRUE)
directory <- "specdata"
files <- list.files(directory, full.names=TRUE)
tmp <- lapply(files, read.csv)
dt <- do.call(rbind, tmp)
dt$complete <- complete.cases(dt)
str(dt)
head(dt)
files <- list.files(directory, full.names=TRUE)
tmp <- lapply(files, read.csv)
dt <- do.call(rbind, tmp)
head(dt)
head(files)
str(files)
dnorm(28,1)
rnorm(28,1)
hist(rnorm(28,1))
hist(rnorm(28,0.5))
hist(rnorm(0.28,0.5))
?rnorm
hist(rnorm(1000,0.28,0.5))
hist(rnorm(1000,0.28,0.3))
hist(rnorm(1000,0.28,0.1))
hist(rnorm(1000,0.28,0.01))
hist(rnorm(1000,0.28,0.012))
hist(rnorm(1000,0.26,0.012))
hist(rnorm(1000,0.24,0.012))
hist(rnorm(1000,0.24,0.015))
hist(rnorm(1000,0.24,0.015), xlab = "Modelled Porosity")
hist(rnorm(1000,0.24,0.015), xlab = "Modelled Porosity", main = "Histogram of Porosity modelled as normally distributed around 0.24 (sd = 0.015)")
hist(rnorm(1000,0.24,0.015), xlab = "Modelled Porosity")
ModPoro <- rnorm(1000,0.24,0.015)
PermTx <- 1*Exp(((25*ModPoro)+-3.5))
PermTx <- 10^(((25*ModPoro)+-3.5))
hist(PermTx, xlab = "Modelled Permeability")
hist(Log(PermTx), xlab = "Modelled Permeability", )
?log
hist(Log10(PermTx), xlab = "Modelled Permeability", )
Log10(100)
log10(100)
hist(log10(PermTx), xlab = "Modelled Permeability", )
SNIP <- read.csv("Y:/ee10sjo/Oldfields_PhD/2_Literature/ImpactFactor/SNIP_SJR_complete_1999_2013_v1_RIP_becomes_IPP_plus_Conferences.csv")
summary(SNIP)
View(SNIP)
View(SNIP[Source.Title == Geology])
View(SNIP["Source.Title" == Geology])
View(SNIP["Source.Title" == "Geology"])
View(SNIP["Source.Title" == "40R"])
View(SNIP["Source.Title" == 40R])
View(SNIP["Source.Title" == "40R",])
View(SNIP[2,])
DF <- subset(SNIP,SNIP$Top.level..Physical.Sciences!=NULL)
DF <- subset(SNIP,SNIP$Top.level..Physical.Sciences=="")
View(DF)
DF <- subset(SNIP,SNIP$Top.level..Physical.Sciences=="Physical Sciences")
View(DF)
colnames(DF)
subDF <- DF[AND(1:52, 55, 66, 68),]
subDF <- DF[c(1:52, 55, 66, 68),]
View(subDF)
subDF <- DF[,c(1:52, 55, 66, 68)]
View(subDF)
View(subDF)
subDF(is.na(DF$X1900.Earth.and.Planetary.Sciences),)
is.na(DF$X1900.Earth.and.Planetary.Sciences)
summary(is.na(DF$X1900.Earth.and.Planetary.Sciences))
summary(DF$X1900.Earth.and.Planetary.Sciences!=FALSE)
summary(DF$X1900.Earth.and.Planetary.Sciences!="Earth and Planetary Sciences")
subDF <- subDF[DF$X1900.Earth.and.Planetary.Sciences!="Earth and Planetary Sciences",]
View(subDF)
subDF <- DF[,c(1:52, 55, 66, 68)]
subDF <- subDF[DF$X1900.Earth.and.Planetary.Sciences!="Earth and Planetary Sciences",]
subDF <- DF[,c(1:52, 55, 66, 68)]
subDF <- subDF[DF$X1900.Earth.and.Planetary.Sciences=="Earth and Planetary Sciences",]
View(subDF)
View(subDF)
?reshape
library("reshape2", lib.loc="C:/Program Files/R/R-3.1.2/library")
?reshape2
dimnames(subDF)
colnames(subDF)
type(subDF)
class(subDF)
tidyDF <- melt(subDF[1:52], id.vars = subDF[,1:7])
tidyDF <- melt(subDF[1:52], id.vars = subDF[1:7,])
tidyDF <- melt(subDF[1:52], id.vars = c(subDF[,1:7])
)
tidyDF <- melt(subDF[1:52], id.vars = c(subDF[,1:7]))
colnames(subDF[1:7,])
colnames(subDF[,1:7])
tidyDF <- melt(subDF[1:52], id.vars = colnames(subDF[,1:7]))
View(tidyDF)
View(tidyDF)
summary(tidyDF)
unique(tidyDF[2,])
unique(tidyDF[,2])
length(unique(tidyDF[,2]))
View(subDF)
length(unique(subDF[,3]))
length(unique(tidyDF[,1]))
length(unique(subDF[,2]))
length(unique(subDF[,1]))
tidierDF <- do.call('rbind', strsplit(as.character(tidyDF$variable), '.', fixed = TRUE))
View(tidierDF)
View(tidyDF)
tidierDF <- cbind(tidyDF, tidierDF)
View(tidierDF)
rename(tidierDF$1="Year", tidierDF$2="Impact.Measure")
colname(tidierDF)
names(tidierDF)
rename(tidierDF[,"1"]="Year", tidierDF[,"2"]="Impact.Measure")
View(tidierDF)
names(tidierDF)[11]
names(tidierDF)[10:11]
names(tidierDF)[10:11] <- c("Year", "Measure")
View(tidyDF)
View(tidierDF)
tidierDF[,"variable"] <- NULL
View(tidierDF)
names(tidierDF[,"value"])
names(tidierDF[,8])
names(tidierDF[8,])
names(tidierDF[,2])
names(tidierDF)
names(tidierDF)[10]
names(tidierDF)[8]
names(tidierDF)[8] <- Impact
names(tidierDF)[8] <- "Impact"
View(tidierDF)
unique(tidierDF$Year)
class(tidierDF$Year)
gsub("X", "", tidierDF$Year)
unique(tidierDF$Year)
tidierDF <- gsub("X", "", tidierDF$Year)
unique(tidierDF$Year)
?gsub
tidierDF <- do.call('rbind', strsplit(as.character(tidyDF$variable), '.', fixed = TRUE))
tidierDF <- cbind(tidyDF, tidierDF)
names(tidierDF)[10:11] <- c("Year", "Measure")
tidierDF[,"variable"] <- NULL
names(tidierDF)[8] <- "Impact"
View(tidierDF)
tidierDF$Year <- gsub("X", "", tidierDF$Year)
View(tidierDF)
class(tidier$Year)
class(tidierDF$Year)
?as.class
?as.date
?as
as.Date(tidierDF$Year)
charToDate(tidierDF$Year)
as.Date(tidierDF$Year)
as.Date(tidierDF$Year, "%Y")
as.Numeric(tidierDF$Year)
as.numeric(tidierDF$Year)
tidierDF$Year <- as.numeric(tidierDF$Year)
class(tidier$Year)
class(tidierDF$Year)
?aggregate
aggregate(Impact ~ Year + Measure + Source.Title, data = tidierDF, mean)
url <- "http://www.journalmetrics.com/documents/SNIP_SJR_complete_1999_2013_v1_RIP_becomes_IPP_plus_Conferences_Nov2014.xlsx"
ScopusIF <- download.file(url, "./", method = wget)
ScopusIF <- download.file(url, "./", method = "wget")
ScopusIF <- download.file(url, "Y:/ee10sjo/Oldfields_PhD/2_Literature/ImpactFactor/", method = "wget")
ScopusIF <- download.file(url, "Y:/ee10sjo/Oldfields_PhD/2_Literature/ImpactFactor/")
ScopusIF <- download.file(url, "Y:/ee10sjo/Oldfields_PhD/2_Literature/ImpactFactor/", method = "curl")
ScopusIF <- download.file(url, "Y:/ee10sjo/Oldfields_PhD/2_Literature/ImpactFactor/ScopusIF.xlsx", method = "wget")
?download.file
?rcurl
?Rcurl
?RCurl
ScopusIF <- download.file(url, "~/ScopusIF.xlsx", method = "wget")
ScopusIF <- download.file(url, "Y:/ee10sjo/Oldfields_PhD/2_Literature/ImpactFactor/ScopusIF.xlsx", method = "wget")
ScopusIF <- download.file(url = url, destfile = "Y:/ee10sjo/Oldfields_PhD/2_Literature/ImpactFactor/ScopusIF.xlsx", method = "wget")
ScopusIF <- download.file(url = url, destfile = "./ScopusIF.xlsx", method = "wget")
library(RCurl)
ScopusIF <- download.file(url = url, destfile = "./ScopusIF.xlsx", method = "curl")
ScopusIF <- get.URL(url)
ScopusIF <- getURL(url)
rm ScopusIF
rm ScopusIF
ScopusIF <- read.table(url)
ScopusIF <- read.xls(url)
require(gdata)
library("xlsx", lib.loc="C:/Program Files/R/R-3.1.2/library")
ScopusIF <- read.xlsx(url,1)
getURLContent(url)
SCopusIF <- getURLContent(url)
ScopusIF <- getURLContent(url)
rm SCopusIF
rm(SCopusIF)
read.xlsx(ScopusIF)
read.xlsx(ScopusIF,1)
download.file(url, "./", method = auto, quiet = FLASE)
download.file(url, "./", method = "auto", quiet = FLASE)
download.file(url, "./", method = "auto", quiet = FALSE)
download.file(url, "~/Downloads/", method = "auto", quiet = FALSE)
download.file(url, "~/Downloads/test.xlsx", method = "auto", quiet = FALSE)
pwd
cd
setwd("Y:/ee10sjo/Oldfields_PhD/2_Literature/ImpactFactor/R_JournalImpact")
getwd()
download.file(url, "./test.xlsx", method = "auto", quiet = FALSE)
SNIP2 <- read.xlsx("./ScopusIF.xlsx",1)
SNIP2 <- read.xlsx("ScopusIF.xlsx",1)
SNIP2 <- read.xlsx("ScopusIF.xlsx",1)
SNIP2 <- read.xlsx("ScopusIF.xlsx",1)
remove(ScopusIF)
getwd()
setwd()
download.file(url, "./ScopusIF.xlsx", method = "auto", quiet = TRUE)
library(xlsx)
ScopusIF <- read.xlsx("./ScopusIF.xlsx", 1)
View(tidierDF)
SummaryMean <- aggregate(data = tidierDF, Impact ~ Measure + Source.Title, FUN = "mean")
?aggregate
aggregate(Measure ~ Impact, tidierDF, mean)
aggregate(Measure ~ Impact, tidierDF, FUN = mean)
class(tidierDF$Measure)
class(tidierDF$Impact)
tidierDF$Impact <- as.numeric(tidierDF$Impact)
class(tidierDF$Impact)
SummaryMean <- aggregate(data = tidierDF, Impact ~ Measure + Source.Title, FUN = "mean")
View(SummaryMean)
WideSummaryMean <- reshape(data = SummaryMean, timevar = Measure, idvar = Source.Title, direction = "wide")
WideSummaryMean <- reshape(data = SummaryMean, timevar = "Measure", idvar = "Source.Title", direction = "wide")
View(WideSummaryMean)
library(ggplot)
library("ggplot")
library(ggplot2)
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean,
main="Simple Scatterplot Matrix")
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean,
+       main="Comparison of Impact Measures")
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean,
+       main="Comparison of Impact Measures")
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean, main="Comparison of Impact Measures")
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean, main="Comparison of Impact Measures", diagpanel=panel.hist)
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean, main="Comparison of Impact Measures", diag.panel=panel.hist)
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean, main="Comparison of Impact Measures", diag.panel = WideSummaryMean.hist)
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean, main="Comparison of Impact Measures", diag.panel = Impact.hist)
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean, main="Comparison of Impact Measures", diag.panel ="histogram")
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean, main="Comparison of Impact Measures", diagonal="histogram")
warnings()
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean, main="Comparison of Impact Measures", diag.panel=hist)
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean, main="Comparison of Impact Measures")
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean, main="Comparison of Impact Measures", diag.panel="histogram")
hist(x = WideSummaryMean, plot = TRUE)
hist(x = WideSummaryMean$Impact.SJR, plot = TRUE)
hist(x = WideSummaryMean$Impact.SNIP, plot = TRUE)
hist(x = WideSummaryMean$Impact.SNIP + WideSummaryMean$Impact.SJR, plot = TRUE)
hist(x = WideSummaryMean$Impact.SNIP, x=WideSummaryMean$Impact.SJR, plot = TRUE)
View(SummaryMean)
ggplot(SummaryMean, aes(x=Impact, fill=cond)) +
geom_histogram(binwidth=.2, alpha=.2, position="identity")
ggplot(SummaryMean, aes(x=Impact)) +
geom_histogram(binwidth=.2, alpha=.2, position="identity")
ggplot(SummaryMean, aes(x=Impact)) +
geom_histogram(binwidth=.5, alpha=.2, position="identity")
ggplot(SummaryMean, aes(x=Impact)) +
geom_histogram(binwidth=.5, alpha=.5, position="identity")
ggplot(SummaryMean, aes(x=Impact, fill=Measure)) +
geom_histogram(binwidth=.5, alpha=.4, position="identity")
ggplot(SummaryMean, aes(x=Impact, fill=Measure)) +
geom_histogram(binwidth=.2, alpha=.3, position="identity")
ggplot(SummaryMean, aes(x=Impact, fill=Measure)) +
geom_histogram(binwidth=.2, alpha=.3, position="identity") +facet_grid(Measure ~ .)
ggplot(SummaryMean, aes(x=Impact, fill=Measure)) +
geom_histogram(binwidth=.2, alpha=.3, position="identity") +facet_grid(Measure ~ .) + xlim(c(0,5))
ggplot(SummaryMean, aes(x=Impact, fill=Measure)) +
geom_histogram(binwidth=.2, alpha=.7, position="identity") +facet_grid(Measure ~ .) + xlim(c(0,5))
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean,
+       main="Comparison of Impact Measures")
hist(x = WideSummaryMean$Impact.SNIP, x=WideSummaryMean$Impact.SJR, plot = TRUE)
ggplot(SummaryMean, aes(x=Impact, fill=Measure)) +
+     geom_histogram(binwidth=.2, alpha=.7, position="identity") +facet_grid(Measure ~ .) + xlim(c(0,5))
ggplot(SummaryMean, aes(x=Impact, fill=Measure)) + geom_histogram(binwidth=.2, alpha=.7, position="identity") + facet_grid(Measure ~ .) + xlim(c(0,5))
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean, main="Comparison of Impact Measures")
hist(x = WideSummaryMean$Impact.SNIP, x=WideSummaryMean$Impact.SJR, plot = TRUE)
pairs(~Impact.IPP+Impact.SJR+Impact.SNIP,data=WideSummaryMean, main="Comparison of Impact Measures")
ggplot(SummaryMean, aes(x=Impact, fill=Measure)) + geom_histogram(binwidth=.2, alpha=.7, position="identity") + facet_grid(Measure ~ .) + xlim(c(0,5))
